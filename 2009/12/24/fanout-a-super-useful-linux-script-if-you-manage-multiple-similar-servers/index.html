<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta name="generator" content="Hugo 0.20.7" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> fanout, a super useful linux script if you manage multiple, similar servers </title>

     
      
    
    
    
    
    

  <meta name="author" content="alan">

 
    <meta property="og:title" content="fanout, a super useful linux script if you manage multiple, similar servers" />
<meta property="og:description" content="I love this fanout script for running the same command on multiple servers, just in case you&#8217;re interested:
http://www.stearns.org/fanout/fanout
[root@199564-6 scripts]# fanout &quot;$SERVERS&quot; &quot;cp /root/.ssh/authorized_keys /home/user/.ssh/&quot;&lt;br /&gt; Starting root@db1&lt;br /&gt; Starting root@db2&lt;br /&gt; Starting root@nas&lt;br /&gt; Starting root@www1&lt;br /&gt; Starting root@www2&lt;br /&gt; Starting root@www3&lt;br /&gt; Fanout executing &quot;cp /root/.ssh/authorized_keys /home/user/.ssh/&quot;&lt;br /&gt; Start time Wed Dec 23 23:45:35 EST 2009 , End time Wed Dec 23 23:45:47 EST 2009&lt;br /&gt; ==== As root on db1 ====" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zeroasterisk.com/2009/12/24/fanout-a-super-useful-linux-script-if-you-manage-multiple-similar-servers/" />



<meta property="article:published_time" content="2009-12-24T04:54:29&#43;00:00"/>
<meta property="article:modified_time" content="2009-12-24T04:54:29&#43;00:00"/>










 
    



  <meta property="og:image" content="https://en.gravatar.com/userimage/831761/080d157cba7201fa2d89172617f6b7bb.jpg?size=200">

 
    
     
     
    
    
    <link rel="canonical" href="https://zeroasterisk.com/2009/12/24/fanout-a-super-useful-linux-script-if-you-manage-multiple-similar-servers/">   <link rel="shortcut icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABwlBMVEUAAAA/3MUK07UJ0rRk6NkC0rMAw5sAx6Ic1rs/3MYAlU0E0rQAhjMAyKIAiTkM07UJ07UAhC8m2L4o2L5O4Msn2L4AzKoAzq0128Mo2b8F0rQE0rMu2cAt2cAA0bI228MA0LAAy6kr2b8Q1LcF0rMH0rUAxp4t2b8c1ros2b8P1LcAzKsAzq4528Q02sIM07YAfyg93cUD0rMA0LEA0bFK4c0M1LcL07Uv2sEAzawY1rlJ4c0w2sEAzKkY1rqr+PQN07Yj170G0rQI07UF0bMt2cAF0rMC0bIL07UF0bMs2cAF0rMA0bIC0bIL07UF0rMA0bIA0bIA0bIO1LYr2b8N07Yp2L4F0rMF0rQJ07UA0bIC0bMA0bIH0rQK07UD0bMA0LAF0rMAyqYE0rMA0bIS1Lg228ID0bMM07YS1LcI07QL07UJ07UC0bMM07YG0rMS1Lc328IR1LcC0bIK07UM07Yo2L4P1LcL07UD0rMD0rMD0rMB0bIH0rQ23MMQ1LcD0rMN1LYB0LAJ0rQ33MMG0bMP1bgD0rMN07YH0rQH0rQ33MQF0rMD0rMN1LYo2L4F0rQG0rSA6tsA0bIB0bL////yxqscAAAAk3RSTlMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgnDXAUItvZKBAi6+vpMuf3++wEIAQcEBFn5AgR9UwMEoQLD/AEH4AIdAzha+UMEAQcc9AM4CAFSA9IC+4AEAc8yAwIEBAHOMQOBBLfLMAnFlAJNsa0LAAAAAWJLR0SVCGB6gwAAAAd0SU1FB+EBBBI4BduZ4woAAAF5SURBVDjLY2CAAUYmZgcWRydnVhc2dg4GTMAJlOdydZvs7sHtiU0FSJ7Hy3uyz2RfP24XNl4OLPJ8Xv5A+YBAsAo0M2DyQZMnY1fBL+AgCJXHrkIoWDgEJo9NhUioaBhCHqoiXExcAqZAMkIqckrU5MkoKqSjZeAmyMbIxSIZAFIRMCVOOl4epkAmQSERrwKOJMXkySl4rEhVSkufHDAZtyMzlDPdJweiyiN7UyRLIHsKQj5wMnowSIar5ExJQcjn5qnmqyFHlzqKL7EoQPMlphUaaL7EcGSBZiGKLzFUZGgVFSP5ElNFCVPpFORwhAeVto4uWEGwUJk3alSAVXhIR+tB7ShHTi5QkOIzpUKqEmKCPpODgReaipSUyVWl0tW6GEkWGhRBk2tq6wzrsSVqqPaGRqOmZmMTXWwqwNpbTFvbzMwtsGUMoPb2DqOmTksxK2xZLyhgck1XtzVIuw22zNszeXJvH0i7rR1G9gVlf/v+CRMnWaPYDgA74gwO0j2znAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wMS0wNFQxODo1NjowNSswMTowME2yC4wAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDEtMDRUMTg6NTY6MDUrMDE6MDA877MwAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC">


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> 
    <link rel="stylesheet" href="https://jenil.github.io/bulmaswatch/flatly/bulmaswatch.min.css"> 
    <link rel="stylesheet" href="https://zeroasterisk.com/css/landing.css"> 
<link rel="stylesheet" href="https://zeroasterisk.com/css/blog-post.css"> 
<link rel="stylesheet" href="https://zeroasterisk.com/css/code-highlighting/dark.css">
<link rel="stylesheet" href="https://zeroasterisk.com/css/custom.css"> 
 
    
    
</head>


<body>
    <header> <nav class="nav has-shadow">
<div class="nav-left">
    <a class="nav-item" href="https://zeroasterisk.com/">
        <img src="https://zeroasterisk.com/img/logo-zeroasterisk-on-blue.png" alt="Zeroasterisk | Alan Blount">
    </a>
</div>

<div class="nav-center">
    

    <a class="nav-item" target="blank" href="https://github.com/zeroasterisk">
        <span class="icon">
            <i class="fa fa-github"></i>
          </span>
    </a>
    
    

    <a class="nav-item" target="blank" href="https://twitter.com/zeroasterisk">
        <span class="icon">
            <i class="fa fa-twitter"></i>
          </span>
    </a>
    
</div>



<span class="nav-toggle">
        <span></span>
<span></span>
<span></span>
</span>



<div class="nav-right nav-menu" itemscope itemtype="http://schema.org/SiteNavigationElement">
        
        
        <a itemprop="url" class="nav-item is-tab " href="https://zeroasterisk.com/alan/"><span itemprop="name">Alans</span></a>
        
        <a itemprop="url" class="nav-item is-tab  is-active" href="https://zeroasterisk.com/post/"><span itemprop="name">Posts</span></a>
        
</div>
</nav>
 </header>
    <main>

<div class="container" itemscope itemtype="http://schema.org/BlogPosting">
     
<meta itemprop="name" content="fanout, a super useful linux script if you manage multiple, similar servers">
<meta itemprop="description" content="I love this fanout script for running the same command on multiple servers, just in case you&#8217;re interested:
http://www.stearns.org/fanout/fanout
[root@199564-6 scripts]# fanout &quot;$SERVERS&quot; &quot;cp /root/.ssh/authorized_keys /home/user/.ssh/&quot;&lt;br /&gt; Starting root@db1&lt;br /&gt; Starting root@db2&lt;br /&gt; Starting root@nas&lt;br /&gt; Starting root@www1&lt;br /&gt; Starting root@www2&lt;br /&gt; Starting root@www3&lt;br /&gt; Fanout executing &quot;cp /root/.ssh/authorized_keys /home/user/.ssh/&quot;&lt;br /&gt; Start time Wed Dec 23 23:45:35 EST 2009 , End time Wed Dec 23 23:45:47 EST 2009&lt;br /&gt; ==== As root on db1 ====">


<meta itemprop="dateModified" content="2009-12-24T04:54:29&#43;00:00" />
<meta itemprop="wordCount" content="275">



<meta itemprop="keywords" content="adobe-connect,alan,anita,art,cakephp,cordova-/-phonegap,development,event/news,friends-blogs,geek,general,japan,js,laughable,learning-developers,linux,look-at-this,meteorjs,oliver,penelope,php,political,pregnancy,thoughts,beforesave,birth,cake,cakephp,california,childbirth,code,cron,docker,doula,family,geek,git,github,google,google-apps,google-docs,heal,home-birth,internet-explorer-6,linux,master,midwifery,monitor,mysql,new-developers,oliver,open-source,php,poppy,programming,replication,slave,sonoma,tech-web,test,test-heal,vacation,vacation-wedding,wedding," />

    <section class="hero is-primary is-medium">
        <div class="hero-body">
            <div class="container has-text-centered">
                <h1 class="title is-2" itemprop="headline">
                    fanout, a super useful linux script if you manage multiple, similar servers
                </h1>
                
            </div>
        </div>
    </section>
    <section class="section blog">
        <div class="container">
            <p><span class="icon">
  <i class="fa fa-clock-o" aria-hidden="true"></i>
</span>
<span>2 minute read</span>
<span class="icon">
 <i class="fa fa-pencil" aria-hidden="true"></i>
</span>

  Published: <time datetime="2009-12-24T04:54:29&#43;00:00">24 Dec, 2009</time>

</p>
            <div class="columns is-mobile">
                <div class="column">

                    <div class="content blog-post section" itemprop="articleBody">

                        
                        <hr>
                        <p>I love this fanout script for running the same command on multiple servers, just in case you&#8217;re interested:</p>

<p><a href="http://www.stearns.org/fanout/fanout">http://www.stearns.org/fanout/fanout</a></p>

<p><code>[root@199564-6 scripts]# fanout &quot;$SERVERS&quot; &quot;cp /root/.ssh/authorized_keys /home/user/.ssh/&quot;&lt;br /&gt;
Starting root@db1&lt;br /&gt;
Starting root@db2&lt;br /&gt;
Starting root@nas&lt;br /&gt;
Starting root@www1&lt;br /&gt;
Starting root@www2&lt;br /&gt;
Starting root@www3&lt;br /&gt;
Fanout executing &quot;cp /root/.ssh/authorized_keys /home/user/.ssh/&quot;&lt;br /&gt;
Start time Wed Dec 23 23:45:35 EST 2009 , End time Wed Dec 23 23:45:47 EST 2009&lt;br /&gt;
==== As root on db1 ====</code></p>

<p><code>==== As root on db2 ====&lt;/p&gt;
&lt;p&gt;==== As root on nas ====&lt;/p&gt;
&lt;p&gt;==== As root on www1 ====&lt;/p&gt;
&lt;p&gt;==== As root on www2 ====&lt;/p&gt;
&lt;p&gt;==== As root on www3 ====&lt;/p&gt;
&lt;p&gt;Exiting fanout, cleaning up...done.&lt;/p&gt;
&lt;p&gt;[root@199564-6 scripts]# fanout &quot;$SERVERSWWW&quot; &quot;/etc/init.d/httpd restart&quot;&lt;br /&gt;
Starting root@www1&lt;br /&gt;
Starting root@www2&lt;br /&gt;
Starting root@www3&lt;br /&gt;
Fanout executing &quot;/etc/init.d/httpd restart&quot;&lt;br /&gt;
Start time Wed Dec 23 23:50:52 EST 2009 , End time Wed Dec 23 23:50:59 EST 2009&lt;br /&gt;
==== As root on www1 ====&lt;br /&gt;
Stopping httpd: [  OK  ]&lt;br /&gt;
Starting httpd: [  OK  ]&lt;/p&gt;
&lt;p&gt;==== As root on www2 ====&lt;br /&gt;
Stopping httpd: [  OK  ]&lt;br /&gt;
Starting httpd: [  OK  ]&lt;/p&gt;
&lt;p&gt;==== As root on www3 ====&lt;br /&gt;
Stopping httpd: [  OK  ]&lt;br /&gt;
Starting httpd: [  OK  ]&lt;/p&gt;
&lt;p&gt;Exiting fanout, cleaning up...done.&lt;/p&gt;
&lt;p&gt;</code></p>

<p><code>[root@199564-6 scripts]# echo $SERVERS&lt;br /&gt;
root@www1 root@www2 root@www3 root@db1 root@db2 root@nas&lt;br /&gt;
[root@199564-6 scripts]# echo $SERVERSWWW&lt;br /&gt;
root@www1 root@www2 root@www3</code></p>

<p>A great way to execute the same commands on multiple servers&#8230; if you export the $SERVERS to a standard list, in your .bashrc or whatnot&#8230; it&#8217;s even easier. Of course, you&#8217;ll probably want to setup authorized_keys for your servers so that you don&#8217;t have to authenticate to each&#8230;</p>

                    </div>
                    <div class="title is-4">
                        <p>
  Published
  
    
      by <span itemprop="author">alan</span>
    
  
  <time datetime="2009-12-24T04:54:29&#43;00:00">
    24 Dec, 2009
  </time>
  
    in <span itemprop="articleSection"><a href="https://zeroasterisk.com/categories/geek/">geek</a> and <a href="https://zeroasterisk.com/categories/linux/">linux</a></span>
  
  
  using <span itemprop="wordCount">275</span> words.
</p>

                        



                    </div>
          
                    
            
                </div>
            </div>
        
        </div>
    </section>
</div>

</main>
    <footer> 
<footer class="footer">
    <div class="container">
        <div class="content has-text-centered">
            <p>
              &copy;
              <a rel="noopener" href="https://alanblount.com/">
                Alan Blount
              </a>
              &middot;
              For more nerdy stuff checkout
              <a rel="noopener" href="https://code.zeroasterisk.com/">code.zeroasterisk.com</a>
              <em class="muted">~</em>
              <a target="_blank" rel="noopener" href="https://github.com/zeroasterisk/">
                <i class="fa fa-github"></i>
              </a>
            </p>
        </div>
    </div>
</footer>


 </footer>

    <script async type="text/javascript" src="https://zeroasterisk.com/js/bulma.js"></script>
    <script async type="text/javascript"  src="https://zeroasterisk.com/js/clipboard.min.js"></script>
    <script async type="text/javascript"  src="https://zeroasterisk.com/js/clip.js"></script>
</body>

</html>